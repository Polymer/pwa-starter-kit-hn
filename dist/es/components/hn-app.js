window.JSCompiler_renameProperty=function(e){return e};var boot=Object.freeze({});let workingURL,resolveDoc,CSS_URL_RX=/(url\()([^)]*)(\))/g,ABS_URL=/(^\/)|(^#)|(^[\w-\d]*:)/;function resolveUrl(e,t){if(e&&ABS_URL.test(e))return e;if(void 0==workingURL){workingURL=!1;try{const e=new URL('b','http://a');e.pathname='c%20d',workingURL='http://a/c%20d'===e.href}catch(t){}}return(t||(t=document.baseURI||window.location.href),workingURL)?new URL(e,t).href:(resolveDoc||(resolveDoc=document.implementation.createHTMLDocument('temp'),resolveDoc.base=resolveDoc.createElement('base'),resolveDoc.head.appendChild(resolveDoc.base),resolveDoc.anchor=resolveDoc.createElement('a'),resolveDoc.body.appendChild(resolveDoc.anchor)),resolveDoc.base.href=t,resolveDoc.anchor.href=e,resolveDoc.anchor.href||e)}function resolveCss(e,t){return e.replace(CSS_URL_RX,function(e,a,n,r){return a+'\''+resolveUrl(n.replace(/["']/g,''),t)+'\''+r})}function pathFromUrl(e){return e.substring(0,e.lastIndexOf('/')+1)}var resolveUrl$1=Object.freeze({resolveCss:resolveCss,resolveUrl:resolveUrl,pathFromUrl:pathFromUrl});const settings={},useShadow=!window.ShadyDOM,useNativeCSSProperties=!(window.ShadyCSS&&!window.ShadyCSS.nativeCss),useNativeCustomElements=!window.customElements.polyfillWrapFlushCallback;let rootPath=pathFromUrl(document.baseURI||window.location.href);const setRootPath=function(e){rootPath=e};let sanitizeDOMValue;const setSanitizeDOMValue=function(e){sanitizeDOMValue=e};var settings$1=Object.freeze({useShadow:useShadow,useNativeCSSProperties:useNativeCSSProperties,useNativeCustomElements:useNativeCustomElements,Settings:settings,get rootPath(){return rootPath},setRootPath:setRootPath,get sanitizeDOMValue(){return sanitizeDOMValue},setSanitizeDOMValue:setSanitizeDOMValue});let dedupeId=0;const dedupingMixin=function(e){let t=e.__mixinApplications;t||(t=new WeakMap,e.__mixinApplications=t);let a=dedupeId++;return function(n){let r=n.__mixinSet;if(r&&r[a])return n;let o=t,i=o.get(n);i||(i=e(n),o.set(n,i));let d=Object.create(i.__mixinSet||r||null);return d[a]=!0,i.__mixinSet=d,i}};var mixin=Object.freeze({dedupingMixin:dedupingMixin});const caseMap={},DASH_TO_CAMEL=/-[a-z]/g,CAMEL_TO_DASH=/([A-Z])/g;function dashToCamelCase(e){return caseMap[e]||(caseMap[e]=0>e.indexOf('-')?e:e.replace(DASH_TO_CAMEL,(e)=>e[1].toUpperCase()))}function camelToDashCase(e){return caseMap[e]||(caseMap[e]=e.replace(CAMEL_TO_DASH,'-$1').toLowerCase())}var caseMap$0=Object.freeze({dashToCamelCase:dashToCamelCase,camelToDashCase:camelToDashCase});const MODULE_STYLE_LINK_SELECTOR='link[rel=import][type~=css]',INCLUDE_ATTR='include';function importModule(e){const t=customElements.get('dom-module');return t?t.import(e):null}function cssFromModules(e){let t=e.trim().split(/\s+/),a='';for(let n=0;n<t.length;n++)a+=cssFromModule(t[n]);return a}function cssFromModule(e){let a=importModule(e);if(a&&void 0===a._cssText){let e=_cssFromModuleImports(a),n=a.querySelector('template');n&&(e+=cssFromTemplate(n,a.assetpath)),a._cssText=e||null}return a||console.warn('Could not find style data in module named',e),a&&a._cssText||''}function cssFromTemplate(e,t){let a='',n=e.content.querySelectorAll('style');for(let r=0;r<n.length;r++){let o=n[r],e=o.getAttribute(INCLUDE_ATTR);e&&(a+=cssFromModules(e)),o.parentNode.removeChild(o),a+=t?resolveCss(o.textContent,t):o.textContent}return a}function cssFromModuleImports(e){let t=importModule(e);return t?_cssFromModuleImports(t):''}function _cssFromModuleImports(e){let t='',a=e.querySelectorAll(MODULE_STYLE_LINK_SELECTOR);for(let n,r=0;r<a.length;r++)if(n=a[r],n.import){let e=n.import,a=e.body?e.body:e;t+=resolveCss(a.textContent,e.baseURI)}return t}var styleGather=Object.freeze({cssFromModules:cssFromModules,cssFromModule:cssFromModule,cssFromTemplate:cssFromTemplate,cssFromModuleImports:cssFromModuleImports,_cssFromModuleImports:_cssFromModuleImports});let modules={},lcModules={};function findModule(e){return modules[e]||lcModules[e.toLowerCase()]}function styleOutsideTemplateCheck(e){e.querySelector('style')&&console.warn('dom-module %s has style outside template',e.id)}class DomModule extends HTMLElement{static get observedAttributes(){return['id']}static import(e,t){if(e){let a=findModule(e);return a&&t?a.querySelector(t):a}return null}attributeChangedCallback(e,t,a){t!==a&&this.register()}get assetpath(){if(!this.__assetpath){const e=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,t=resolveUrl(this.getAttribute('assetpath')||'',e.baseURI);this.__assetpath=pathFromUrl(t)}return this.__assetpath}register(e){e=e||this.id,e&&(this.id=e,modules[e]=this,lcModules[e.toLowerCase()]=this,styleOutsideTemplateCheck(this))}}DomModule.prototype.modules=modules,customElements.define('dom-module',DomModule);var domModule=Object.freeze({DomModule:DomModule});function isPath(e){return 0<=e.indexOf('.')}function root(e){let t=e.indexOf('.');return-1===t?e:e.slice(0,t)}function isAncestor(e,t){return 0===e.indexOf(t+'.')}function isDescendant(e,t){return 0===t.indexOf(e+'.')}function translate(e,t,a){return t+a.slice(e.length)}function matches(e,t){return e===t||isAncestor(e,t)||isDescendant(e,t)}function normalize(e){if(Array.isArray(e)){let t=[];for(let a,n=0;n<e.length;n++){a=e[n].toString().split('.');for(let e=0;e<a.length;e++)t.push(a[e])}return t.join('.')}return e}function split(e){return Array.isArray(e)?normalize(e).split('.'):e.toString().split('.')}function get(e,t,a){let n=e,r=split(t);for(let o=0;o<r.length;o++){if(!n)return;let e=r[o];n=n[e]}return a&&(a.path=r.join('.')),n}function set(e,t,a){let n=e,r=split(t),o=r[r.length-1];if(1<r.length){for(let e,t=0;t<r.length-1;t++)if(e=r[t],n=n[e],!n)return;n[o]=a}else n[t]=a;return r.join('.')}const isDeep=isPath;var path=Object.freeze({isPath:isPath,root:root,isAncestor:isAncestor,isDescendant:isDescendant,translate:translate,matches:matches,normalize:normalize,split:split,get:get,set:set,isDeep:isDeep});let microtaskCurrHandle=0,microtaskLastHandle=0,microtaskCallbacks=[],microtaskNodeContent=0,microtaskNode=document.createTextNode('');new window.MutationObserver(microtaskFlush).observe(microtaskNode,{characterData:!0});function microtaskFlush(){const e=microtaskCallbacks.length;for(let t,a=0;a<e;a++)if(t=microtaskCallbacks[a],t)try{t()}catch(t){setTimeout(()=>{throw t})}microtaskCallbacks.splice(0,e),microtaskLastHandle+=e}const timeOut={after(e){return{run(t){return setTimeout(t,e)},cancel:window.clearTimeout.bind(window)}},run:window.setTimeout.bind(window),cancel:window.clearTimeout.bind(window)},animationFrame={run:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)},idlePeriod={run(e){return window.requestIdleCallback?window.requestIdleCallback(e):window.setTimeout(e,16)},cancel(e){window.cancelIdleCallback?window.cancelIdleCallback(e):window.clearTimeout(e)}},microTask={run(e){return microtaskNode.textContent=microtaskNodeContent++,microtaskCallbacks.push(e),microtaskCurrHandle++},cancel(e){const t=e-microtaskLastHandle;if(0<=t){if(!microtaskCallbacks[t])throw new Error('invalid async handle: '+e);microtaskCallbacks[t]=null}}};var async=Object.freeze({timeOut:timeOut,animationFrame:animationFrame,idlePeriod:idlePeriod,microTask:microTask});let caseMap$1=caseMap$0,microtask=microTask;const nativeProperties={};for(let e=HTMLElement.prototype;e;){let t=Object.getOwnPropertyNames(e);for(let e=0;e<t.length;e++)nativeProperties[t[e]]=!0;e=Object.getPrototypeOf(e)}function saveAccessorValue(e,t){if(!nativeProperties[t]){let a=e[t];a!==void 0&&(e.__data?e._setPendingProperty(t,a):(e.__dataProto?!e.hasOwnProperty(JSCompiler_renameProperty('__dataProto',e))&&(e.__dataProto=Object.create(e.__dataProto)):e.__dataProto={},e.__dataProto[t]=a))}}const PropertyAccessors=dedupingMixin((e)=>{return class extends e{static createPropertiesForAttributes(){let e=this.observedAttributes;for(let t=0;t<e.length;t++)this.prototype._createPropertyAccessor(caseMap$1.dashToCamelCase(e[t]))}constructor(){super(),this.__serializing,this.__dataCounter,this.__dataEnabled,this.__dataReady,this.__dataInvalid,this.__data,this.__dataPending,this.__dataOld,this.__dataProto,this.__dataHasAccessor,this.__dataInstanceProps,this._initializeProperties()}attributeChangedCallback(e,t,a){t!==a&&this._attributeToProperty(e,a)}_initializeProperties(){for(let e in this.__serializing=!1,this.__dataCounter=0,this.__dataEnabled=!1,this.__dataReady=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),this.__dataHasAccessor)this.hasOwnProperty(e)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[e]=this[e],delete this[e])}_initializeProtoProperties(e){for(let t in e)this._setProperty(t,e[t])}_initializeInstanceProperties(e){Object.assign(this,e)}_ensureAttribute(e,t){this.hasAttribute(e)||this._valueToNodeAttribute(this,t,e)}_attributeToProperty(e,t,a){if(!this.__serializing){let n=caseMap$1.dashToCamelCase(e);this[n]=this._deserializeValue(t,a)}}_propertyToAttribute(e,t,a){this.__serializing=!0,a=3>arguments.length?this[e]:a,this._valueToNodeAttribute(this,a,t||caseMap$1.camelToDashCase(e)),this.__serializing=!1}_valueToNodeAttribute(e,t,a){let n=this._serializeValue(t);n===void 0?e.removeAttribute(a):e.setAttribute(a,n)}_serializeValue(e){switch(typeof e){case'boolean':return e?'':void 0;case'object':if(e instanceof Date)return e.toString();if(e)try{return JSON.stringify(e)}catch(e){return''}default:return null==e?void 0:e.toString();}}_deserializeValue(e,t){let a;switch(t){case Number:a=+e;break;case Boolean:a=null!==e;break;case Object:try{a=JSON.parse(e)}catch(e){}break;case Array:try{a=JSON.parse(e)}catch(t){a=null,console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${e}`)}break;case Date:a=new Date(e);break;case String:default:a=e;}return a}_createPropertyAccessor(e,t){this.hasOwnProperty('__dataHasAccessor')||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[e]||(this.__dataHasAccessor[e]=!0,saveAccessorValue(this,e),Object.defineProperty(this,e,{get:function(){return this.__data[e]},set:t?function(){}:function(t){this._setProperty(e,t)}}))}_hasAccessor(e){return this.__dataHasAccessor&&this.__dataHasAccessor[e]}_setProperty(e,t){this._setPendingProperty(e,t)&&this._invalidateProperties()}_setPendingProperty(e,t){let a=this.__data[e],n=this._shouldPropertyChange(e,t,a);return n&&(!this.__dataPending&&(this.__dataPending={},this.__dataOld={}),this.__dataOld&&!(e in this.__dataOld)&&(this.__dataOld[e]=a),this.__data[e]=t,this.__dataPending[e]=t),n}_isPropertyPending(e){return!!(this.__dataPending&&e in this.__dataPending)}_invalidateProperties(){!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,microtask.run(()=>{this.__dataInvalid&&(this.__dataInvalid=!1,this._flushProperties())}))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}_flushProperties(){if(this.__dataPending&&this.__dataOld){let e=this.__dataPending;this.__dataPending=null,this.__dataCounter++,this._propertiesChanged(this.__data,e,this.__dataOld),this.__dataCounter--}}ready(){this.__dataReady=!0,this._flushProperties()}_propertiesChanged(){}_shouldPropertyChange(e,t,a){return a!==t&&(a===a||t===t)}}});var propertyAccessors=Object.freeze({PropertyAccessors:PropertyAccessors});const templateExtensions={"dom-if":!0,"dom-repeat":!0};function wrapTemplateExtension(e){let a=e.getAttribute('is');if(a&&templateExtensions[a]){let n=e;for(n.removeAttribute('is'),e=n.ownerDocument.createElement(a),n.parentNode.replaceChild(e,n),e.appendChild(n);n.attributes.length;)e.setAttribute(n.attributes[0].name,n.attributes[0].value),n.removeAttribute(n.attributes[0].name)}return e}function findTemplateNode(e,t){let a=t.parentInfo&&findTemplateNode(e,t.parentInfo);if(a){for(let e=a.firstChild,n=0;e;e=e.nextSibling)if(t.parentIndex===n++)return e;}else return e}function applyIdToMap(e,t,a,n){n.id&&(t[n.id]=a)}function applyEventListener(t,a,n){if(n.events&&n.events.length)for(let r,e=0,o=n.events;e<o.length&&(r=o[e]);e++)t._addMethodEventListenerToNode(a,r.name,r.value,t)}function applyTemplateContent(e,t,a){a.templateInfo&&(t._templateInfo=a.templateInfo)}function createNodeEventHandler(t,e,a){t=t._methodHost||t;return function(n){t[a]?t[a](n,n.detail):console.warn('listener method `'+a+'` not defined')}}const TemplateStamp=dedupingMixin((e)=>{return class extends e{static _parseTemplate(e,t){if(!e._templateInfo){let a=e._templateInfo={};a.nodeInfoList=[],a.stripWhiteSpace=t&&t.stripWhiteSpace||e.hasAttribute('strip-whitespace'),this._parseTemplateContent(e,a,{parent:null})}return e._templateInfo}static _parseTemplateContent(e,t,a){return this._parseTemplateNode(e.content,t,a)}static _parseTemplateNode(e,t,a){let n,r=e;return'template'!=r.localName||r.hasAttribute('preserve-content')?'slot'===r.localName&&(t.hasInsertionPoint=!0):n=this._parseTemplateNestedTemplate(r,t,a)||n,r.firstChild&&(n=this._parseTemplateChildNodes(r,t,a)||n),r.hasAttributes&&r.hasAttributes()&&(n=this._parseTemplateNodeAttributes(r,t,a)||n),n}static _parseTemplateChildNodes(e,t,a){for(let r,o=e.firstChild,n=0;o;o=r){if('template'==o.localName&&(o=wrapTemplateExtension(o)),r=o.nextSibling,o.nodeType===Node.TEXT_NODE){for(let t=r;t&&t.nodeType===Node.TEXT_NODE;)o.textContent+=t.textContent,r=t.nextSibling,e.removeChild(t),t=r;if(t.stripWhiteSpace&&!o.textContent.trim()){e.removeChild(o);continue}}let i={parentIndex:n,parentInfo:a};this._parseTemplateNode(o,t,i)&&(i.infoIndex=t.nodeInfoList.push(i)-1),o.parentNode&&n++}}static _parseTemplateNestedTemplate(e,t,a){let n=this._parseTemplate(e,t),r=n.content=e.content.ownerDocument.createDocumentFragment();return r.appendChild(e.content),a.templateInfo=n,!0}static _parseTemplateNodeAttributes(e,t,n){let r=!1,o=Array.from(e.attributes);for(let d,a=o.length-1;d=o[a];a--)r=this._parseTemplateNodeAttribute(e,t,n,d.name,d.value)||r;return r}static _parseTemplateNodeAttribute(e,t,a,n,r){return'on-'===n.slice(0,3)?(e.removeAttribute(n),a.events=a.events||[],a.events.push({name:n.slice(3),value:r}),!0):!('id'!==n)&&(a.id=r,!0)}static _contentForTemplate(e){let t=e._templateInfo;return t&&t.content||e.content}_stampTemplate(e){e&&!e.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(e);let t=this.constructor._parseTemplate(e),a=t.nodeInfoList,n=t.content||e.content,r=document.importNode(n,!0);r.__noInsertionPoint=!t.hasInsertionPoint;let o=r.nodeList=Array(a.length);r.$={};for(let t,n,d=0,i=a.length;d<i&&(t=a[d]);d++)n=o[d]=findTemplateNode(r,t),applyIdToMap(this,r.$,n,t),applyTemplateContent(this,n,t),applyEventListener(this,n,t);return r}_addMethodEventListenerToNode(e,t,a,n){n=n||e;let r=createNodeEventHandler(n,t,a);return this._addEventListenerToNode(e,t,r),r}_addEventListenerToNode(e,t,a){e.addEventListener(t,a)}_removeEventListenerFromNode(e,t,a){e.removeEventListener(t,a)}}});var templateStamp=Object.freeze({TemplateStamp:TemplateStamp});const CaseMap=caseMap$0;let dedupeId$1=0;const TYPES={COMPUTE:'__computeEffects',REFLECT:'__reflectEffects',NOTIFY:'__notifyEffects',PROPAGATE:'__propagateEffects',OBSERVE:'__observeEffects',READ_ONLY:'__readOnly'};function ensureOwnEffectMap(e,t){let a=e[t];if(!a)a=e[t]={};else if(!e.hasOwnProperty(t))for(let n in a=e[t]=Object.create(e[t]),a){let e=a[n],t=a[n]=Array(e.length);for(let a=0;a<e.length;a++)t[a]=e[a]}return a}function runEffects(e,t,a,n,r,o){if(t){let i=!1,d=dedupeId$1++;for(let s in a)runEffectsForProperty(e,t,d,s,a,n,r,o)&&(i=!0);return i}return!1}function runEffectsForProperty(e,t,a,n,r,o,d,s){let _=!1,i=d?root(n):n,p=t[i];if(p)for(let t,c=0,i=p.length;c<i&&(t=p[c]);c++)t.info&&t.info.lastRun===a||d&&!pathMatchesTrigger(n,t.trigger)||(t.info&&(t.info.lastRun=a),t.fn(e,n,r,o,t.info,d,s),_=!0);return _}function pathMatchesTrigger(e,t){if(t){let a=t.name;return a==e||t.structured&&isAncestor(a,e)||t.wildcard&&isDescendant(a,e)}return!0}function runObserverEffect(e,t,a,n,r){let o=e[r.methodName],i=r.property;o?o.call(e,e.__data[i],n[i]):!r.dynamicFn&&console.warn('observer method `'+r.methodName+'` not defined')}function runNotifyEffects(e,t,a,n,r){let o,i=e[TYPES.NOTIFY],d=dedupeId$1++;for(let s in t)t[s]&&(i&&runEffectsForProperty(e,i,d,s,a,n,r)?o=!0:r&&notifyPath(e,s,a)&&(o=!0));let s;o&&(s=e.__dataHost)&&s._invalidateProperties&&s._invalidateProperties()}function notifyPath(e,t,a){let n=root(t);if(n!==t){let r=camelToDashCase(n)+'-changed';return dispatchNotifyEvent(e,r,a[t],t),!0}return!1}function dispatchNotifyEvent(e,t,a,n){let r={value:a,queueProperty:!0};n&&(r.path=n),e.dispatchEvent(new CustomEvent(t,{detail:r}))}function runNotifyEffect(e,t,a,n,r,o){let i=o?root(t):t,d=i==t?null:t,s=d?get(e,d):e.__data[t];d&&s===void 0&&(s=a[t]),dispatchNotifyEvent(e,r.eventName,s,d)}function handleNotification(e,t,a,n,r){let o,i=e.detail,d=i&&i.path;d?(n=translate(a,n,d),o=i&&i.value):o=e.target[a],o=r?!o:o,t[TYPES.READ_ONLY]&&t[TYPES.READ_ONLY][n]||!t._setPendingPropertyOrPath(n,o,!0,!!d)||i&&i.queueProperty||t._invalidateProperties()}function runReflectEffect(e,t,a,n,r){let o=e.__data[t];sanitizeDOMValue&&(o=sanitizeDOMValue(o,r.attrName,'attribute',e)),e._propertyToAttribute(t,r.attrName,o)}function runComputedEffects(e,t,a,n){let r=e[TYPES.COMPUTE];if(r)for(let o=t;runEffects(e,r,o,a,n);)Object.assign(a,e.__dataOld),Object.assign(t,e.__dataPending),o=e.__dataPending,e.__dataPending=null}function runComputedEffect(e,t,a,n,r){let o=runMethodEffect(e,t,a,n,r),i=r.methodInfo;e.__dataHasAccessor&&e.__dataHasAccessor[i]?e._setPendingProperty(i,o,!0):e[i]=o}function computeLinkedPaths(e,t,n){let r=e.__dataLinkedPaths;if(r){let o;for(let i in r){let a=r[i];isDescendant(i,t)?(o=translate(i,a,t),e._setPendingPropertyOrPath(o,n,!0,!0)):isDescendant(a,t)&&(o=translate(a,i,t),e._setPendingPropertyOrPath(o,n,!0,!0))}}}function addBinding(e,t,a,n,r,o,i){a.bindings=a.bindings||[];let d={kind:n,target:r,parts:o,literal:i,isCompound:1!==o.length};if(a.bindings.push(d),shouldAddListener(d)){let{event:e,negate:t}=d.parts[0];d.listenerEvent=e||CaseMap.camelToDashCase(r)+'-changed',d.listenerNegate=t}let s=t.nodeInfoList.length;for(let _,p=0;p<d.parts.length;p++)_=d.parts[p],_.compoundIndex=p,addEffectForBindingPart(e,t,d,_,s)}function addEffectForBindingPart(e,t,a,n,r){if(!n.literal)if('attribute'===a.kind&&'-'===a.target[0])console.warn('Cannot set attribute '+a.target+' because "-" is not a valid attribute starting character');else{let o=n.dependencies,i={index:r,binding:a,part:n,evaluator:e};for(let a,n=0;n<o.length;n++)a=o[n],'string'==typeof a&&(a=parseArg(a),a.wildcard=!0),e._addTemplatePropertyEffect(t,a.rootProperty,{fn:runBindingEffect,info:i,trigger:a})}}function runBindingEffect(e,t,a,n,r,o,i){let d=i[r.index],s=r.binding,_=r.part;if(o&&_.source&&t.length>_.source.length&&'property'==s.kind&&!s.isCompound&&d.__dataHasAccessor&&d.__dataHasAccessor[s.target]){let n=a[t];t=translate(_.source,s.target,t),d._setPendingPropertyOrPath(t,n,!1,!0)&&e._enqueueClient(d)}else{let i=r.evaluator._evaluateBinding(e,_,t,a,n,o);applyBindingValue(e,d,s,_,i)}}function applyBindingValue(e,t,a,n,r){if(r=computeBindingValue(t,r,a,n),sanitizeDOMValue&&(r=sanitizeDOMValue(r,a.target,a.kind,t)),'attribute'==a.kind)e._valueToNodeAttribute(t,r,a.target);else{let n=a.target;t.__dataHasAccessor&&t.__dataHasAccessor[n]?(!t[TYPES.READ_ONLY]||!t[TYPES.READ_ONLY][n])&&t._setPendingProperty(n,r)&&e._enqueueClient(t):e._setUnmanagedPropertyToNode(t,n,r)}}function computeBindingValue(e,t,a,n){if(a.isCompound){let r=e.__dataCompoundStorage[a.target];r[n.compoundIndex]=t,t=r.join('')}return'attribute'!==a.kind&&('textContent'===a.target||'input'==e.localName&&'value'==a.target)&&(t=void 0==t?'':t),t}function shouldAddListener(e){return!!e.target&&'attribute'!=e.kind&&'text'!=e.kind&&!e.isCompound&&'{'===e.parts[0].mode}function setupBindings(e,t){let{nodeList:a,nodeInfoList:n}=t;if(n.length)for(let t=0;t<n.length;t++){let r=n[t],o=a[t],d=r.bindings;if(d)for(let t,a=0;a<d.length;a++)t=d[a],setupCompoundStorage(o,t),addNotifyListener(o,e,t);o.__dataHost=e}}function setupCompoundStorage(e,t){if(t.isCompound){let a=e.__dataCompoundStorage||(e.__dataCompoundStorage={}),n=t.parts,r=Array(n.length);for(let e=0;e<n.length;e++)r[e]=n[e].literal;let o=t.target;a[o]=r,t.literal&&'property'==t.kind&&(e[o]=t.literal)}}function addNotifyListener(e,t,a){if(a.listenerEvent){let n=a.parts[0];e.addEventListener(a.listenerEvent,function(r){handleNotification(r,t,a.target,n.source,n.negate)})}}function createMethodEffect(e,t,a,n,r,o){o=t.static||o&&('object'!=typeof o||o[t.methodName]);let d={methodName:t.methodName,args:t.args,methodInfo:r,dynamicFn:o};for(let s,_=0;_<t.args.length&&(s=t.args[_]);_++)s.literal||e._addPropertyEffect(s.rootProperty,a,{fn:n,info:d,trigger:s});o&&e._addPropertyEffect(t.methodName,a,{fn:n,info:d})}function runMethodEffect(e,t,a,n,r){let o=e._methodHost||e,i=o[r.methodName];if(i){let n=marshalArgs(e.__data,r.args,t,a);return i.apply(o,n)}r.dynamicFn||console.warn('method `'+r.methodName+'` not defined')}const emptyArray=[],IDENT='(?:[a-zA-Z_$][\\w.:$\\-*]*)',NUMBER='(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)',SQUOTE_STRING='(?:\'(?:[^\'\\\\]|\\\\.)*\')',DQUOTE_STRING='(?:"(?:[^"\\\\]|\\\\.)*")',STRING='(?:'+SQUOTE_STRING+'|'+DQUOTE_STRING+')',ARGUMENT='(?:('+IDENT+'|'+NUMBER+'|'+STRING+')\\s*)',ARGUMENTS='(?:'+ARGUMENT+'(?:,\\s*'+ARGUMENT+')*)',ARGUMENT_LIST='(?:\\(\\s*(?:'+ARGUMENTS+'?)\\)\\s*)',BINDING='('+IDENT+'\\s*'+ARGUMENT_LIST+'?)',OPEN_BRACKET='(\\[\\[|{{)\\s*',CLOSE_BRACKET='(?:]]|}})',NEGATE='(?:(!)\\s*)?',EXPRESSION=OPEN_BRACKET+NEGATE+BINDING+CLOSE_BRACKET,bindingRegex=/(\[\[|{{)\s*(?:(!)\s*)?((?:[a-zA-Z_$][\w.:$\-*]*)\s*(?:\(\s*(?:(?:(?:((?:[a-zA-Z_$][\w.:$\-*]*)|(?:[-+]?[0-9]*\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\]|\\.)*')|(?:"(?:[^"\\]|\\.)*")))\s*)(?:,\s*(?:((?:[a-zA-Z_$][\w.:$\-*]*)|(?:[-+]?[0-9]*\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\]|\\.)*')|(?:"(?:[^"\\]|\\.)*")))\s*))*)?)\)\s*)?)(?:]]|}})/g;function literalFromParts(e){let t='';for(let a,n=0;n<e.length;n++)a=e[n].literal,t+=a||'';return t}function parseMethod(e){let t=e.match(/([^\s]+?)\(([\s\S]*)\)/);if(t){let e=t[1],a={methodName:e,static:!0,args:emptyArray};if(t[2].trim()){let e=t[2].replace(/\\,/g,'&comma;').split(',');return parseArgs(e,a)}return a}return null}function parseArgs(e,t){return t.args=e.map(function(e){let a=parseArg(e);return a.literal||(t.static=!1),a},this),t}function parseArg(e){let t=e.trim().replace(/&comma;/g,',').replace(/\\(.)/g,'$1'),n={name:t,value:'',literal:!1},a=t[0];return'-'===a&&(a=t[1]),'0'<=a&&'9'>=a&&(a='#'),'\''===a||'"'===a?(n.value=t.slice(1,-1),n.literal=!0):'#'===a?(n.value=+t,n.literal=!0):void 0,(n.literal||(n.rootProperty=root(t),n.structured=isPath(t),n.structured&&(n.wildcard='.*'==t.slice(-2),n.wildcard&&(n.name=t.slice(0,-2)))),n)}function marshalArgs(e,t,a,n){let r=[];for(let o=0,i=t.length;o<i;o++){let i,d=t[o],s=d.name;if(d.literal?i=d.value:d.structured?(i=get(e,s),void 0===i&&(i=n[s])):i=e[s],d.wildcard){let e=0===s.indexOf(a+'.'),t=0===a.indexOf(s)&&!e;r[o]={path:t?a:s,value:t?n[a]:i,base:i}}else r[o]=i}return r}function notifySplices(e,t,a,n){let r=a+'.splices';e.notifyPath(r,{indexSplices:n}),e.notifyPath(a+'.length',t.length),e.__data[r]={indexSplices:null}}function notifySplice(e,t,a,n,r,o){notifySplices(e,t,a,[{index:n,addedCount:r,removed:o,object:t,type:'splice'}])}function upper(e){return e[0].toUpperCase()+e.substring(1)}const PropertyEffects=dedupingMixin((e)=>{const t=TemplateStamp(PropertyAccessors(e));class a extends t{constructor(){super(),this.__dataClientsReady,this.__dataPendingClients,this.__dataToNotify,this.__dataLinkedPaths,this.__dataHasPaths,this.__dataCompoundStorage,this.__dataHost,this.__dataTemp,this.__dataClientsInitialized,this.__data,this.__dataPending,this.__dataOld,this.__computeEffects,this.__reflectEffects,this.__notifyEffects,this.__propagateEffects,this.__observeEffects,this.__readOnly,this.__dataCounter,this.__templateInfo}get PROPERTY_EFFECT_TYPES(){return TYPES}_initializeProperties(){super._initializeProperties(),hostStack.registerHost(this),this.__dataClientsReady=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={},this.__dataClientsInitialized=!1}_initializeProtoProperties(e){this.__data=Object.create(e),this.__dataPending=Object.create(e),this.__dataOld={}}_initializeInstanceProperties(e){let t=this[TYPES.READ_ONLY];for(let a in e)t&&t[a]||(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[a]=this.__dataPending[a]=e[a])}_addPropertyEffect(e,t,a){this._createPropertyAccessor(e,t==TYPES.READ_ONLY);let n=ensureOwnEffectMap(this,t)[e];n||(n=this[t][e]=[]),n.push(a)}_removePropertyEffect(e,t,a){let n=ensureOwnEffectMap(this,t)[e],r=n.indexOf(a);0<=r&&n.splice(r,1)}_hasPropertyEffect(e,t){let a=this[t];return!!(a&&a[e])}_hasReadOnlyEffect(e){return this._hasPropertyEffect(e,TYPES.READ_ONLY)}_hasNotifyEffect(e){return this._hasPropertyEffect(e,TYPES.NOTIFY)}_hasReflectEffect(e){return this._hasPropertyEffect(e,TYPES.REFLECT)}_hasComputedEffect(e){return this._hasPropertyEffect(e,TYPES.COMPUTE)}_setPendingPropertyOrPath(e,t,a,n){if(n||root(Array.isArray(e)?e[0]:e)!==e){if(!n){let a=get(this,e);if(e=set(this,e,t),!e||!super._shouldPropertyChange(e,t,a))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(e,t,a))return computeLinkedPaths(this,e,t),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[e])return this._setPendingProperty(e,t,a);this[e]=t}return!1}_setUnmanagedPropertyToNode(e,t,a){(a!==e[t]||'object'==typeof a)&&(e[t]=a)}_setPendingProperty(e,t,a){let n=this.__dataHasPaths&&isPath(e),r=n?this.__dataTemp:this.__data;return!!this._shouldPropertyChange(e,t,r[e])&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),e in this.__dataOld||(this.__dataOld[e]=this.__data[e]),n?this.__dataTemp[e]=t:this.__data[e]=t,this.__dataPending[e]=t,(n||this[TYPES.NOTIFY]&&this[TYPES.NOTIFY][e])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[e]=a),!0)}_setProperty(e,t){this._setPendingProperty(e,t,!0)&&this._invalidateProperties()}_invalidateProperties(){this.__dataReady&&this._flushProperties()}_enqueueClient(e){this.__dataPendingClients=this.__dataPendingClients||[],e!==this&&this.__dataPendingClients.push(e)}_flushClients(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.__dataReady=!0)}__enableOrFlushClients(){let e=this.__dataPendingClients;if(e){this.__dataPendingClients=null;for(let t,a=0;a<e.length;a++)t=e[a],t.__dataEnabled?t.__dataPending&&t._flushProperties():t._enableProperties()}}_readyClients(){this.__enableOrFlushClients()}setProperties(e,t){for(let a in e)!t&&this[TYPES.READ_ONLY]&&this[TYPES.READ_ONLY][a]||this._setPendingPropertyOrPath(a,e[a],!0);this._invalidateProperties()}ready(){this._flushProperties(),this.__dataClientsReady||this._flushClients(),this.__dataPending&&this._flushProperties()}_propertiesChanged(e,t,a){let n=this.__dataHasPaths;this.__dataHasPaths=!1,runComputedEffects(this,t,a,n);let r=this.__dataToNotify;this.__dataToNotify=null,this._propagatePropertyChanges(t,a,n),this._flushClients(),runEffects(this,this[TYPES.REFLECT],t,a,n),runEffects(this,this[TYPES.OBSERVE],t,a,n),r&&runNotifyEffects(this,r,t,a,n),1==this.__dataCounter&&(this.__dataTemp={})}_propagatePropertyChanges(e,t,a){this[TYPES.PROPAGATE]&&runEffects(this,this[TYPES.PROPAGATE],e,t,a);for(let n=this.__templateInfo;n;)runEffects(this,n.propertyEffects,e,t,a,n.nodeList),n=n.nextTemplateInfo}linkPaths(e,t){e=normalize(e),t=normalize(t),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[e]=t}unlinkPaths(e){e=normalize(e),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[e]}notifySplices(e,t){let a={path:''},n=get(this,e,a);notifySplices(this,n,a.path,t)}get(e,t){return get(t||this,e)}set(e,t,a){a?set(a,e,t):(!this[TYPES.READ_ONLY]||!this[TYPES.READ_ONLY][e])&&this._setPendingPropertyOrPath(e,t,!0)&&this._invalidateProperties()}push(e,...t){let a={path:''},n=get(this,e,a),r=n.length,o=n.push(...t);return t.length&&notifySplice(this,n,a.path,r,t.length,[]),o}pop(e){let t={path:''},a=get(this,e,t),n=!!a.length,r=a.pop();return n&&notifySplice(this,a,t.path,a.length,0,[r]),r}splice(e,t,a,...n){var r=Math.floor;let o={path:''},i=get(this,e,o);t=0>t?i.length-r(-t):r(t),t||(t=0);let d=i.splice(t,a,...n);return(n.length||d.length)&&notifySplice(this,i,o.path,t,n.length,d),d}shift(e){let t={path:''},a=get(this,e,t),n=!!a.length,r=a.shift();return n&&notifySplice(this,a,t.path,0,0,[r]),r}unshift(e,...t){let a={path:''},n=get(this,e,a),r=n.unshift(...t);return t.length&&notifySplice(this,n,a.path,0,t.length,[]),r}notifyPath(e,t){let a;if(1==arguments.length){let n={path:''};t=get(this,e,n),a=n.path}else a=Array.isArray(e)?normalize(e):e;this._setPendingPropertyOrPath(a,t,!0,!0)&&this._invalidateProperties()}_createReadOnlyProperty(e,t){this._addPropertyEffect(e,TYPES.READ_ONLY),t&&(this['_set'+upper(e)]=function(t){this._setProperty(e,t)})}_createPropertyObserver(e,t,a){let n={property:e,methodName:t,dynamicFn:!!a};this._addPropertyEffect(e,TYPES.OBSERVE,{fn:runObserverEffect,info:n,trigger:{name:e}}),a&&this._addPropertyEffect(t,TYPES.OBSERVE,{fn:runObserverEffect,info:n,trigger:{name:t}})}_createMethodObserver(e,t){let a=parseMethod(e);if(!a)throw new Error('Malformed observer expression \''+e+'\'');createMethodEffect(this,a,TYPES.OBSERVE,runMethodEffect,null,t)}_createNotifyingProperty(e){this._addPropertyEffect(e,TYPES.NOTIFY,{fn:runNotifyEffect,info:{eventName:CaseMap.camelToDashCase(e)+'-changed',property:e}})}_createReflectedProperty(e){let t=CaseMap.camelToDashCase(e);'-'===t[0]?console.warn('Property '+e+' cannot be reflected to attribute '+t+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property thisead.'):this._addPropertyEffect(e,TYPES.REFLECT,{fn:runReflectEffect,info:{attrName:t}})}_createComputedProperty(e,t,a){let n=parseMethod(t);if(!n)throw new Error('Malformed computed expression \''+t+'\'');createMethodEffect(this,n,TYPES.COMPUTE,runComputedEffect,e,a)}static addPropertyEffect(e,t,a){this.prototype._addPropertyEffect(e,t,a)}static createPropertyObserver(e,t,a){this.prototype._createPropertyObserver(e,t,a)}static createMethodObserver(e,t){this.prototype._createMethodObserver(e,t)}static createNotifyingProperty(e){this.prototype._createNotifyingProperty(e)}static createReadOnlyProperty(e,t){this.prototype._createReadOnlyProperty(e,t)}static createReflectedProperty(e){this.prototype._createReflectedProperty(e)}static createComputedProperty(e,t,a){this.prototype._createComputedProperty(e,t,a)}static bindTemplate(e){return this.prototype._bindTemplate(e)}_bindTemplate(e,t){let a=this.constructor._parseTemplate(e),n=this.__templateInfo==a;if(!n)for(let e in a.propertyEffects)this._createPropertyAccessor(e);if(t&&(a=Object.create(a),a.wasPreBound=n,!n&&this.__templateInfo)){let e=this.__templateInfoLast||this.__templateInfo;return this.__templateInfoLast=e.nextTemplateInfo=a,a.previousTemplateInfo=e,a}return this.__templateInfo=a}static _addTemplatePropertyEffect(e,t,a){let n=e.hostProps=e.hostProps||{};n[t]=!0;let r=e.propertyEffects=e.propertyEffects||{},o=r[t]=r[t]||[];o.push(a)}_stampTemplate(e){hostStack.beginHosting(this);let t=super._stampTemplate(e);hostStack.endHosting(this);let a=this._bindTemplate(e,!0);if(a.nodeList=t.nodeList,!a.wasPreBound){let e=a.childNodes=[];for(let a=t.firstChild;a;a=a.nextSibling)e.push(a)}return t.templateInfo=a,setupBindings(this,a),this.__dataReady&&runEffects(this,a.propertyEffects,this.__data,null,!1,a.nodeList),t}_removeBoundDom(e){let t=e.templateInfo;t.previousTemplateInfo&&(t.previousTemplateInfo.nextTemplateInfo=t.nextTemplateInfo),t.nextTemplateInfo&&(t.nextTemplateInfo.previousTemplateInfo=t.previousTemplateInfo),this.__templateInfoLast==t&&(this.__templateInfoLast=t.previousTemplateInfo),t.previousTemplateInfo=t.nextTemplateInfo=null;let a=t.childNodes;for(let t,n=0;n<a.length;n++)t=a[n],t.parentNode.removeChild(t)}static _parseTemplateNode(e,t,a){let n=super._parseTemplateNode(e,t,a);if(e.nodeType===Node.TEXT_NODE){let r=this._parseBindings(e.textContent,t);r&&(e.textContent=literalFromParts(r)||' ',addBinding(this,t,a,'text','textContent',r),n=!0)}return n}static _parseTemplateNodeAttribute(e,t,a,n,r){let o=this._parseBindings(r,t);if(o){let r=n,i='property';'$'==n[n.length-1]&&(n=n.slice(0,-1),i='attribute');let d=literalFromParts(o);return d&&'attribute'==i&&e.setAttribute(n,d),'input'===e.localName&&'value'===r&&e.setAttribute(r,''),e.removeAttribute(r),'property'==i&&(n=dashToCamelCase(n)),addBinding(this,t,a,i,n,o,d),!0}return super._parseTemplateNodeAttribute(e,t,a,n,r)}static _parseTemplateNestedTemplate(e,t,a){let n=super._parseTemplateNestedTemplate(e,t,a),r=a.templateInfo.hostProps;for(let n in r){addBinding(this,t,a,'property','_host_'+n,[{mode:'{',source:n,dependencies:[n]}])}return n}static _parseBindings(e,t){let a,n=[],r=0;for(;null!==(a=bindingRegex.exec(e));){a.index>r&&n.push({literal:e.slice(r,a.index)});let o=a[1][0],i=!!a[2],d=a[3].trim(),s=!1,_='',p=-1;'{'==o&&0<(p=d.indexOf('::'))&&(_=d.substring(p+2),d=d.substring(0,p),s=!0);let l=parseMethod(d),c=[];if(l){let{args:e,methodName:a}=l;for(let t,a=0;a<e.length;a++)t=e[a],t.literal||c.push(t);let n=t.dynamicFns;(n&&n[a]||l.static)&&(c.push(a),l.dynamicFn=!0)}else c.push(d);n.push({source:d,mode:o,negate:i,customEvent:s,signature:l,dependencies:c,event:_}),r=bindingRegex.lastIndex}if(r&&r<e.length){let t=e.substring(r);t&&n.push({literal:t})}return n.length?n:null}static _evaluateBinding(e,t,a,n,r,o){let i;return i=t.signature?runMethodEffect(e,a,n,r,t.signature):a==t.source?o&&isPath(a)?get(e,a):e.__data[a]:get(e,t.source),t.negate&&(i=!i),i}}return a});let hostStack={stack:[],registerHost(e){if(this.stack.length){let t=this.stack[this.stack.length-1];t._enqueueClient(e)}},beginHosting(e){this.stack.push(e)},endHosting(e){let t=this.stack.length;t&&this.stack[t-1]==e&&this.stack.pop()}};var propertyEffects=Object.freeze({PropertyEffects:PropertyEffects});const ElementMixin=dedupingMixin((e)=>{function t(e){return e.hasOwnProperty(JSCompiler_renameProperty('__ownProperties',e))||(e.__ownProperties=e.hasOwnProperty(JSCompiler_renameProperty('properties',e))?e.properties:{}),e.__ownProperties}function a(e){return e.hasOwnProperty(JSCompiler_renameProperty('__ownObservers',e))||(e.__ownObservers=e.hasOwnProperty(JSCompiler_renameProperty('observers',e))?e.observers:[]),e.__ownObservers}function n(e,t){for(let a in t){let n=t[a];'function'==typeof n&&(n={type:n}),e[a]=n}return e}function r(e){if(!e.hasOwnProperty(JSCompiler_renameProperty('__classProperties',e))){e.__classProperties=n({},t(e));let a=Object.getPrototypeOf(e.prototype).constructor;a.prototype instanceof h&&(e.__classProperties=Object.assign(Object.create(r(a)),e.__classProperties))}return e.__classProperties}function o(e){if(!e.hasOwnProperty(JSCompiler_renameProperty('__classPropertyDefaults',e))){e.__classPropertyDefaults=null;let t=r(e);for(let a in t){let n=t[a];'value'in n&&(e.__classPropertyDefaults=e.__classPropertyDefaults||{},e.__classPropertyDefaults[a]=n)}}return e.__classPropertyDefaults}function i(e){return e.hasOwnProperty(JSCompiler_renameProperty('__finalized',e))}function d(e){let t=e.prototype,a=Object.getPrototypeOf(t).constructor;a.prototype instanceof h&&a.finalize(),s(e)}function s(e){e.__finalized=!0;let n=e.prototype;e.hasOwnProperty(JSCompiler_renameProperty('is',e))&&e.is&&register(n);let r=t(e);r&&_(n,r);let o=a(e);o&&p(n,o,r);let i=e.template;if(i){if('string'==typeof i){let e=document.createElement('template');e.innerHTML=i,i=e}else i=i.cloneNode(!0);n._template=i}}function _(e,t){for(let a in t)l(e,a,t[a],t)}function p(e,t,a){for(let n=0;n<t.length;n++)e._createMethodObserver(t[n],a)}function l(e,t,a,n){a.computed&&(a.readOnly=!0),a.computed&&!e._hasReadOnlyEffect(t)&&e._createComputedProperty(t,a.computed,n),a.readOnly&&!e._hasReadOnlyEffect(t)&&e._createReadOnlyProperty(t,!a.computed),a.reflectToAttribute&&!e._hasReflectEffect(t)&&e._createReflectedProperty(t),a.notify&&!e._hasNotifyEffect(t)&&e._createNotifyingProperty(t),a.observer&&e._createPropertyObserver(t,a.observer,n[a.observer])}function c(e,t,a,n,r){let o=cssFromModuleImports(n)+cssFromTemplate(t,a);if(o){let e=document.createElement('style');e.textContent=o,t.content.insertBefore(e,t.content.firstChild)}window.ShadyCSS&&window.ShadyCSS.prepareTemplate(t,n,r),e._bindTemplate(t)}const u=PropertyEffects(e);class h extends u{static get observedAttributes(){if(!this.hasOwnProperty(JSCompiler_renameProperty('__observedAttributes',this))){let e=[],t=r(this);for(let a in t)e.push(camelToDashCase(a));this.__observedAttributes=e}return this.__observedAttributes}static finalize(){i(this)||d(this)}static get template(){return this.hasOwnProperty(JSCompiler_renameProperty('_template',this))||(this._template=DomModule&&DomModule.import(this.is,'template')||Object.getPrototypeOf(this.prototype).constructor.template),this._template}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty('_importPath',this))){const e=DomModule&&DomModule.import(this.is);this._importPath=e?e.assetpath:Object.getPrototypeOf(this.prototype).constructor.importPath}return this._importPath}constructor(){super(),this._template,this._importPath,this.rootPath,this.importPath,this.root,this.$}_initializeProperties(){instanceCount++,this.constructor.finalize();const e=this.constructor.importPath;if(this._template&&!this._template.__polymerFinalized){this._template.__polymerFinalized=!0;const t=e?resolveUrl(e):'';c(this.__proto__,this._template,t,this.localName)}super._initializeProperties(),this.rootPath=rootPath,this.importPath=e;let t=o(this.constructor);if(t)for(let e in t){let a=t[e];if(!this.hasOwnProperty(e)){let t='function'==typeof a.value?a.value.call(this):a.value;this._hasAccessor(e)?this._setPendingProperty(e,t,!0):this[e]=t}}}connectedCallback(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),this._enableProperties()}disconnectedCallback(){}ready(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),super.ready()}_readyClients(){this._template&&(this.root=this._attachDom(this.root)),super._readyClients()}_attachDom(e){if(this.attachShadow)return e?(this.shadowRoot||this.attachShadow({mode:'open'}),this.shadowRoot.appendChild(e),this.shadowRoot):null;throw new Error('ShadowDOM not available. Polymer.Element can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.')}attributeChangedCallback(e,t,a){if(t!==a){let t=caseMap$0.dashToCamelCase(e),n=r(this.constructor)[t].type;this._hasReadOnlyEffect(t)||this._attributeToProperty(e,a,n)}}updateStyles(e){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,e)}resolveUrl(e,t){return!t&&this.importPath&&(t=resolveUrl(this.importPath)),resolveUrl(e,t)}static _parseTemplateContent(e,t,a){return t.dynamicFns=t.dynamicFns||r(this),super._parseTemplateContent(e,t,a)}}return h});let instanceCount=0;const registrations=[];function _regLog(e){console.log('['+e.is+']: registered')}function register(e){registrations.push(e),void 0}function dumpRegistrations(){registrations.forEach(_regLog)}const updateStyles=function(e){window.ShadyCSS&&window.ShadyCSS.styleDocument(e)};var elementMixin=Object.freeze({ElementMixin:ElementMixin,get instanceCount(){return instanceCount},registrations:registrations,_regLog:_regLog,register:register,dumpRegistrations:dumpRegistrations,updateStyles:updateStyles});const Element=ElementMixin(HTMLElement);var polymerElement=Object.freeze({Element:Element});function mutablePropertyChange(e,t,a,n,r){let o;r&&(o='object'==typeof a&&null!==a,o&&(n=e.__dataTemp[t]));let i=n!==a&&(n===n||a===a);return o&&i&&(e.__dataTemp[t]=a),i}const MutableData=dedupingMixin((e)=>{class t extends e{_shouldPropertyChange(e,t,a){return mutablePropertyChange(this,e,t,a,!0)}}return t.prototype.mutableData=!1,t}),OptionalMutableData=dedupingMixin((e)=>{class t extends e{static get properties(){return{mutableData:Boolean}}_shouldPropertyChange(e,t,a){return mutablePropertyChange(this,e,t,a,this.mutableData)}}return t});MutableData._mutablePropertyChange=mutablePropertyChange;var mutableData=Object.freeze({MutableData:MutableData,OptionalMutableData:OptionalMutableData});let newInstance=null;function HTMLTemplateElementExtension(){return newInstance}HTMLTemplateElementExtension.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:HTMLTemplateElementExtension,writable:!0}});const DataTemplate=PropertyEffects(HTMLTemplateElementExtension),MutableDataTemplate=MutableData(DataTemplate);function upgradeTemplate(e,t){newInstance=e,Object.setPrototypeOf(e,t.prototype),new t,newInstance=null}const base=PropertyEffects(class{});class TemplateInstanceBase extends base{constructor(e){super(),this._configureProperties(e),this.root=this._stampTemplate(this.__dataHost);let t=this.children=[];for(let a=this.root.firstChild;a;a=a.nextSibling)t.push(a),a.__templatizeInstance=this;this.__templatizeOwner.__hideTemplateChildren__&&this._showHideChildren(!0);let a=this.__templatizeOptions;(e&&a.instanceProps||!a.instanceProps)&&this._enableProperties()}_configureProperties(e){let t=this.__templatizeOptions;if(e)for(let a in t.instanceProps)a in e&&this._setPendingProperty(a,e[a]);for(let t in this.__hostProps)this._setPendingProperty(t,this.__dataHost['_host_'+t])}forwardHostProp(e,t){this._setPendingPropertyOrPath(e,t,!1,!0)&&this.__dataHost._enqueueClient(this)}_addEventListenerToNode(e,t,a){if(this._methodHost&&this.__templatizeOptions.parentModel)this._methodHost._addEventListenerToNode(e,t,(t)=>{t.model=this,a(t)});else{let n=this.__dataHost.__dataHost;n&&n._addEventListenerToNode(e,t,a)}}_showHideChildren(e){let t=this.children;for(let a,n=0;n<t.length;n++)a=t[n],!!e!=!!a.__hideTemplateChildren__&&(a.nodeType===Node.TEXT_NODE?e?(a.__polymerTextContent__=a.textContent,a.textContent=''):a.textContent=a.__polymerTextContent__:a.style&&(e?(a.__polymerDisplay__=a.style.display,a.style.display='none'):a.style.display=a.__polymerDisplay__)),a.__hideTemplateChildren__=e,a._showHideChildren&&a._showHideChildren(e)}_setUnmanagedPropertyToNode(e,t,a){e.__hideTemplateChildren__&&e.nodeType==Node.TEXT_NODE&&'textContent'==t?e.__polymerTextContent__=a:super._setUnmanagedPropertyToNode(e,t,a)}get parentModel(){let e=this.__parentModel;if(!e){let t;e=this;do e=e.__dataHost.__dataHost;while((t=e.__templatizeOptions)&&!t.parentModel);this.__parentModel=e}return e}}TemplateInstanceBase.prototype.__dataHost,TemplateInstanceBase.prototype.__templatizeOptions,TemplateInstanceBase.prototype._methodHost,TemplateInstanceBase.prototype.__templatizeOwner,TemplateInstanceBase.prototype.__hostProps;const MutableTemplateInstanceBase=MutableData(TemplateInstanceBase);function findMethodHost(e){let t=e.__dataHost;return t&&t._methodHost||t}function createTemplatizerClass(e,t,a){let n=a.mutableData?MutableTemplateInstanceBase:TemplateInstanceBase,r=class extends n{};return r.prototype.__templatizeOptions=a,r.prototype._bindTemplate(e),addNotifyEffects(r,e,t,a),r}function addPropagateEffects(e,t,a){let n=a.forwardHostProp;if(n){let r=t.templatizeTemplateClass;if(!r){let e=a.mutableData?MutableDataTemplate:DataTemplate;r=t.templatizeTemplateClass=class extends e{};let o=t.hostProps;for(let e in o)r.prototype._addPropertyEffect('_host_'+e,r.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:createForwardHostPropEffect(e,n)}),r.prototype._createNotifyingProperty('_host_'+e)}upgradeTemplate(e,r),e.__dataProto&&Object.assign(e.__data,e.__dataProto),e.__dataTemp={},e.__dataPending=null,e.__dataOld=null,e._enableProperties()}}function createForwardHostPropEffect(e,t){return function(e,a,n){t.call(e.__templatizeOwner,a.substring(6),n[a])}}function addNotifyEffects(e,t,a,n){let r=a.hostProps||{};for(let o in n.instanceProps){delete r[o];let t=n.notifyInstanceProp;t&&e.prototype._addPropertyEffect(o,e.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:createNotifyInstancePropEffect(o,t)})}if(n.forwardHostProp&&t.__dataHost)for(let t in r)e.prototype._addPropertyEffect(t,e.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:createNotifyHostPropEffect()})}function createNotifyInstancePropEffect(e,t){return function(e,a,n){t.call(e.__templatizeOwner,e,a,n[a])}}function createNotifyHostPropEffect(){return function(e,t,a){e.__dataHost._setPendingPropertyOrPath('_host_'+t,a[t],!0,!0)}}const Templatize={templatize(e,t,a){if(a=a||{},e.__templatizeOwner)throw new Error('A <template> can only be templatized once');e.__templatizeOwner=t;let n=t.constructor._parseTemplate(e),r=n.templatizeInstanceClass;r||(r=createTemplatizerClass(e,n,a),n.templatizeInstanceClass=r),addPropagateEffects(e,n,a);let o=class extends r{};return o.prototype._methodHost=findMethodHost(e),o.prototype.__dataHost=e,o.prototype.__templatizeOwner=t,o.prototype.__hostProps=n.hostProps,o},modelForElement(e,t){for(let a;t;)if(!(a=t.__templatizeInstance))t=t.parentNode;else if(a.__dataHost!=e)t=a.__dataHost;else return a;return null}};var templatize=Object.freeze({Templatize:Templatize,TemplateInstanceBase:TemplateInstanceBase});class Debouncer{constructor(){this._asyncModule=null,this._callback=null,this._timer=null}setConfig(e,t){this._asyncModule=e,this._callback=t,this._timer=this._asyncModule.run(()=>{this._timer=null,this._callback()})}cancel(){this.isActive()&&(this._asyncModule.cancel(this._timer),this._timer=null)}flush(){this.isActive()&&(this.cancel(),this._callback())}isActive(){return null!=this._timer}static debounce(e,t,a){return e instanceof Debouncer?e.cancel():e=new Debouncer,e.setConfig(t,a),e}}var debounce=Object.freeze({Debouncer:Debouncer});let debouncerQueue=[];const enqueueDebouncer=function(e){debouncerQueue.push(e)};function flushDebouncers(){const e=!!debouncerQueue.length;for(;debouncerQueue.length;)try{debouncerQueue.shift().flush()}catch(t){setTimeout(()=>{throw t})}return e}const flush=function(){let e,t;do e=window.ShadyDOM&&ShadyDOM.flush(),window.ShadyCSS&&window.ShadyCSS.ScopingShim&&window.ShadyCSS.ScopingShim.flush(),t=flushDebouncers();while(e||t)};var flush$1=Object.freeze({enqueueDebouncer:enqueueDebouncer,flush:flush});class DomIf extends Element{static get is(){return'dom-if'}static get template(){return null}static get properties(){return{if:{type:Boolean,observer:'__debounceRender'},restamp:{type:Boolean,observer:'__debounceRender'}}}constructor(){super(),this.__renderDebouncer=null,this.__invalidProps=null,this.__instance=null,this._lastIf=!1,this.__ctor=null}__debounceRender(){this.__renderDebouncer=Debouncer.debounce(this.__renderDebouncer,microTask,()=>this.__render()),enqueueDebouncer(this.__renderDebouncer)}disconnectedCallback(){super.disconnectedCallback(),this.parentNode&&(this.parentNode.nodeType!=Node.DOCUMENT_FRAGMENT_NODE||this.parentNode.host)||this.__teardownInstance()}connectedCallback(){super.connectedCallback(),this.if&&this.__debounceRender()}render(){flush()}__render(){if(this.if){if(!this.__ensureInstance())return;this._showHideChildren()}else this.restamp&&this.__teardownInstance();!this.restamp&&this.__instance&&this._showHideChildren(),this.if!=this._lastIf&&(this.dispatchEvent(new CustomEvent('dom-change',{bubbles:!0,composed:!0})),this._lastIf=this.if)}__ensureInstance(){let e=this.parentNode;if(e){if(!this.__ctor){let e=this.querySelector('template');if(!e){let e=new MutationObserver(()=>{if(this.querySelector('template'))e.disconnect(),this.__render();else throw new Error('dom-if requires a <template> child')});return e.observe(this,{childList:!0}),!1}this.__ctor=Templatize.templatize(e,this,{mutableData:!0,forwardHostProp:function(e,t){this.__instance&&(this.if?this.__instance.forwardHostProp(e,t):(this.__invalidProps=this.__invalidProps||Object.create(null),this.__invalidProps[root(e)]=!0))}})}if(!this.__instance)this.__instance=new this.__ctor,e.insertBefore(this.__instance.root,this);else{this.__syncHostProperties();let t=this.__instance.children;if(t&&t.length){let a=this.previousSibling;if(a!==t[t.length-1])for(let a,n=0;n<t.length&&(a=t[n]);n++)e.insertBefore(a,this)}}}return!0}__syncHostProperties(){let e=this.__invalidProps;if(e){for(let t in e)this.__instance._setPendingProperty(t,this.__dataHost[t]);this.__invalidProps=null,this.__instance._flushProperties()}}__teardownInstance(){if(this.__instance){let e=this.__instance.children;if(e&&e.length){let t=e[0].parentNode;for(let a,n=0;n<e.length&&(a=e[n]);n++)t.removeChild(a)}this.__instance=null,this.__invalidProps=null}}_showHideChildren(){let e=this.__hideTemplateChildren__||!this.if;this.__instance&&this.__instance._showHideChildren(e)}}customElements.define(DomIf.is,DomIf);var domIf=Object.freeze({DomIf:DomIf});const sharedStyles=`
<style>
  :host {
    color: #666;
  }

  a {
    color: #000;
  }

  button {
    padding: 4px;
    background: none;
    border: 2px solid;
    font-weight: bold;
  }
</style>
`;var sharedStyles$1=Object.freeze({sharedStyles:sharedStyles});class HnInvalidPageElement extends Element{static get template(){return`
    ${sharedStyles}
    <h1>Page not found</h1>`}}customElements.define('hn-invalid-page',HnInvalidPageElement);var hnInvalidPage=Object.freeze({HnInvalidPageElement:HnInvalidPageElement});const UPDATE_LOCATION='UPDATE_LOCATION',updateLocation=(e)=>(t,n)=>{switch(t({type:UPDATE_LOCATION,location:e}),pageSelector(n())){case'list':import('./hn-list.js').then((e)=>{t(e.fetchListIfNeeded(e.currentListSelector(n())))});break;case'user':import('./hn-user.js').then((e)=>{t(e.fetchUserIfNeeded(e.currentUserSelector(n())))});break;case'item':import('./hn-item.js').then((e)=>{t(e.fetchItemIfNeeded(e.currentItemSelector(n())))});}};var location$3=Object.freeze({UPDATE_LOCATION:UPDATE_LOCATION,updateLocation:updateLocation});function defaultEqualityCheck(e,t){return e===t}function areArgumentsShallowlyEqual(e,t,a){if(null===t||null===a||t.length!==a.length)return!1;const n=t.length;for(let r=0;r<n;r++)if(!e(t[r],a[r]))return!1;return!0}function defaultMemoize(e,t=defaultEqualityCheck){let a=null,n=null;return function(){return areArgumentsShallowlyEqual(t,a,arguments)||(n=e.apply(null,arguments)),a=arguments,n}}function getDependencies(e){const t=Array.isArray(e[0])?e[0]:e;if(!t.every((e)=>'function'==typeof e)){const e=t.map((e)=>typeof e).join(', ');throw new Error('Selector creators expect all input-selectors to be functions, '+`instead received the following types: [${e}]`)}return t}function createSelectorCreator(e,...t){return(...a)=>{let n=0;const r=a.pop(),o=getDependencies(a),i=e(function(){return n++,r.apply(null,arguments)},...t),d=defaultMemoize(function(){const e=[],t=o.length;for(let a=0;a<t;a++)e.push(o[a].apply(null,arguments));return i.apply(null,e)});return d.resultFunc=r,d.recomputations=()=>n,d.resetRecomputations=()=>n=0,d}}const createSelector=createSelectorCreator(defaultMemoize);function createStructuredSelector(e,t=createSelector){if('object'!=typeof e)throw new Error('createStructuredSelector expects first argument to be an object '+`where each property is a selector, instead received a ${typeof e}`);const a=Object.keys(e);return t(a.map((t)=>e[t]),(...e)=>e.reduce((e,t,n)=>(e[a[n]]=t,e),{}))}var index=Object.freeze({defaultMemoize:defaultMemoize,createSelectorCreator:createSelectorCreator,createSelector:createSelector,createStructuredSelector:createStructuredSelector}),_extends=Object.assign||function(e){for(var t,a=1;a<arguments.length;a++)for(var n in t=arguments[a],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e};const location=(e={},t)=>{switch(t.type){case UPDATE_LOCATION:const a=t.location;return _extends({},e,{pathname:a.pathname,search:a.search,hash:a.hash});default:return e;}},pathnameSelector=(e)=>e.location.pathname,splitPathnameSelector=createSelector(pathnameSelector,(e)=>e?e.slice(1).split('/'):[]),pageSelector=createSelector(splitPathnameSelector,(e)=>{switch(e[0]){case'':case'new':case'ask':case'show':case'jobs':case'favorites':return'list';case'user':case'item':return e[0];default:return'invalid-page';}}),searchSelector=(e)=>e.location.search,urlSearchParamsSelector=createSelector(searchSelector,(e)=>'URLSearchParams'in window?new URLSearchParams(e):e.slice(1).split('&').reduce((e,t)=>(e.set(...t.split('=').map(window.decodeURIComponent)),e),new Map));var location$2=Object.freeze({default:location,splitPathnameSelector:splitPathnameSelector,pageSelector:pageSelector,urlSearchParamsSelector:urlSearchParamsSelector});function isPlainObject(e){return!!e&&Object.is(e.constructor,Object)}var isPlainObject$1=Object.freeze({default:isPlainObject}),ActionTypes={INIT:'@@redux/INIT'};function createStore(e,t,a){function n(){s===d&&(s=d.slice())}function r(e){if(!isPlainObject(e))throw new Error('Actions must be plain objects. Use custom middleware for async actions.');if('undefined'==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(_)throw new Error('Reducers may not dispatch actions.');try{_=!0,i=o(i,e)}finally{_=!1}for(var t,a=d=s,n=0;n<a.length;n++)t=a[n],t();return e}if('function'==typeof t&&'undefined'==typeof a&&(a=t,t=void 0),'undefined'!=typeof a){if('function'!=typeof a)throw new Error('Expected the enhancer to be a function.');return a(createStore)(e,t)}if('function'!=typeof e)throw new Error('Expected the reducer to be a function.');var o=e,i=t,d=[],s=d,_=!1;return r({type:ActionTypes.INIT}),{dispatch:r,subscribe:function(e){if('function'!=typeof e)throw new Error('Expected listener to be a function.');var t=!0;return n(),s.push(e),function(){if(t){t=!1,n();var a=s.indexOf(e);s.splice(a,1)}}},getState:function(){return i},replaceReducer:function(e){if('function'!=typeof e)throw new Error('Expected the nextReducer to be a function.');o=e,r({type:ActionTypes.INIT})}}}var createStore$1=Object.freeze({ActionTypes:ActionTypes,default:createStore});function compose$1(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var compose$2=Object.freeze({default:compose$1}),_extends$2=Object.assign||function(e){for(var t,a=1;a<arguments.length;a++)for(var n in t=arguments[a],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e};function applyMiddleware(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return function(a,n,r){var o=e(a,n,r),i=o.dispatch,d=[],s={getState:o.getState,dispatch:function(e){return i(e)}};return d=t.map(function(e){return e(s)}),i=compose$1.apply(void 0,d)(o.dispatch),_extends$2({},o,{dispatch:i})}}}var applyMiddleware$1=Object.freeze({default:applyMiddleware});function warning(e){'undefined'!=typeof console&&'function'==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}var warning$1=Object.freeze({default:warning});function getUndefinedStateErrorMessage(e,t){var a=t&&t.type,n=a&&'"'+a.toString()+'"'||'an action';return'Given action '+n+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function getUnexpectedStateShapeWarningMessage(e,t,a,n){var r=Object.keys(t),o=a&&a.type===ActionTypes.INIT?'preloadedState argument passed to createStore':'previous state received by the reducer';if(0===r.length)return'Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.';if(!isPlainObject(e))return'The '+o+' has unexpected type of "'+{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+r.join('", "')+'"');var i=Object.keys(e).filter(function(e){return!t.hasOwnProperty(e)&&!n[e]});if(i.forEach(function(e){n[e]=!0}),0<i.length)return'Unexpected '+(1<i.length?'keys':'key')+' '+('"'+i.join('", "')+'" found in '+o+'. Expected to find one of the known reducer keys instead: ')+('"'+r.join('", "')+'". Unexpected keys will be ignored.')}function assertReducerShape(e){Object.keys(e).forEach(function(t){var a=e[t],n=a(void 0,{type:ActionTypes.INIT});if('undefined'==typeof n)throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don\'t want to set a value for this reducer, you can use null instead of undefined.');var r='@@redux/PROBE_UNKNOWN_ACTION_'+Math.random().toString(36).substring(7).split('').join('.');if('undefined'==typeof a(void 0,{type:r}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+('Don\'t try to handle '+ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.'))})}var showWarnings='undefined'!=typeof process&&process.env&&'production'!==process.env.NODE_ENV;function combineReducers(e){for(var t,a=Object.keys(e),n={},r=0;r<a.length;r++)t=a[r],showWarnings&&'undefined'==typeof e[t]&&warning('No reducer provided for key "'+t+'"'),'function'==typeof e[t]&&(n[t]=e[t]);var o,i=Object.keys(n);showWarnings&&(o={});var d;try{assertReducerShape(n)}catch(t){d=t}return function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=arguments[1];if(d)throw d;if(showWarnings){var a=getUnexpectedStateShapeWarningMessage(e,n,t,o);a&&warning(a)}for(var r=!1,s={},_=0;_<i.length;_++){var p=i[_],l=n[p],c=e[p],u=l(c,t);if('undefined'==typeof u){var h=getUndefinedStateErrorMessage(p,t);throw new Error(h)}s[p]=u,r=r||u!==c}return r?s:e}}var combineReducers$1=Object.freeze({default:combineReducers});function createThunkMiddleware(e){return function(t){var a=t.dispatch,n=t.getState;return function(t){return function(r){return'function'==typeof r?r(a,n,e):t(r)}}}}var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware;var index$1=Object.freeze({default:thunk}),_extends$1=Object.assign||function(e){for(var t,a=1;a<arguments.length;a++)for(var n in t=arguments[a],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e};const compose$$1=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||compose$1;function lazyReducerEnhancer(t){return(a,n)=>{let r={};const o=t(a,n);return _extends$1({},o,{addReducers(e){this.replaceReducer(combineReducers(r=_extends$1({},r,e)))}})}}const store=createStore((e)=>e,compose$$1(lazyReducerEnhancer,applyMiddleware(thunk)));var store$1=Object.freeze({store:store});const connect=(e)=>(t)=>class extends t{constructor(){super(),e.subscribe(()=>this.update(e.getState())),this.update(e.getState())}update(){console.warn('update() not implemented',this)}};var connectMixin=Object.freeze({connect:connect});const installRouter=(t)=>{document.body.addEventListener('click',(a)=>{if(!(a.defaultPrevented||0!==a.button||a.metaKey||a.ctrlKey||a.shiftKey)){const e=a.composedPath().filter((e)=>'A'===e.tagName)[0];if(!(!e||e.target||e.hasAttribute('download')||'external'===e.getAttribute('rel'))){const n=e.href;if(n&&-1===n.indexOf('mailto:')){const e=window.location,r=e.origin||e.protocol+'//'+e.host;0!==n.indexOf(r)||(a.preventDefault(),n!==e.href&&(window.history.pushState({},'',n),t()))}}}}),window.addEventListener('popstate',()=>t()),t()};var router=Object.freeze({installRouter:installRouter});const domRepeatBase=OptionalMutableData(Element);class DomRepeat extends domRepeatBase{static get is(){return'dom-repeat'}static get template(){return null}static get properties(){return{items:{type:Array},as:{type:String,value:'item'},indexAs:{type:String,value:'index'},itemsIndexAs:{type:String,value:'itemsIndex'},sort:{type:Function,observer:'__sortChanged'},filter:{type:Function,observer:'__filterChanged'},observe:{type:String,observer:'__observeChanged'},delay:Number,renderedItemCount:{type:Number,notify:!0,readOnly:!0},initialCount:{type:Number,observer:'__initializeChunking'},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:'__computeFrameTime(targetFramerate)'}}}static get observers(){return['__itemsChanged(items.*)']}constructor(){super(),this.__instances=[],this.__limit=Infinity,this.__pool=[],this.__renderDebouncer=null,this.__itemsIdxToInstIdx={},this.__chunkCount=null,this.__lastChunkTime=null,this.__sortFn=null,this.__filterFn=null,this.__observePaths=null,this.__ctor=null,this.__isDetached=!0,this.template=null}disconnectedCallback(){super.disconnectedCallback(),this.__isDetached=!0;for(let e=0;e<this.__instances.length;e++)this.__detachInstance(e)}connectedCallback(){if(super.connectedCallback(),this.__isDetached){this.__isDetached=!1;let e=this.parentNode;for(let t=0;t<this.__instances.length;t++)this.__attachInstance(t,e)}}__ensureTemplatized(){if(!this.__ctor){let e=this.template=this.querySelector('template');if(!e){let e=new MutationObserver(()=>{if(this.querySelector('template'))e.disconnect(),this.__render();else throw new Error('dom-repeat requires a <template> child')});return e.observe(this,{childList:!0}),!1}let t={};t[this.as]=!0,t[this.indexAs]=!0,t[this.itemsIndexAs]=!0,this.__ctor=Templatize.templatize(e,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:t,forwardHostProp:function(e,t){let a=this.__instances;for(let n,r=0;r<a.length&&(n=a[r]);r++)n.forwardHostProp(e,t)},notifyInstanceProp:function(e,t,a){if(matches(this.as,t)){let n=e[this.itemsIndexAs];t==this.as&&(this.items[n]=a);let r=translate(this.as,'items.'+n,t);this.notifyPath(r,a)}}})}return!0}__getMethodHost(){return this.__dataHost._methodHost||this.__dataHost}__sortChanged(e){let t=this.__getMethodHost();this.__sortFn=e&&('function'==typeof e?e:function(){return t[e].apply(t,arguments)}),this.items&&this.__debounceRender(this.__render)}__filterChanged(e){let t=this.__getMethodHost();this.__filterFn=e&&('function'==typeof e?e:function(){return t[e].apply(t,arguments)}),this.items&&this.__debounceRender(this.__render)}__computeFrameTime(e){return Math.ceil(1e3/e)}__initializeChunking(){this.initialCount&&(this.__limit=this.initialCount,this.__chunkCount=this.initialCount,this.__lastChunkTime=performance.now())}__tryRenderChunk(){this.items&&this.__limit<this.items.length&&this.__debounceRender(this.__requestRenderChunk)}__requestRenderChunk(){requestAnimationFrame(()=>this.__renderChunk())}__renderChunk(){let e=performance.now(),t=this._targetFrameTime/(e-this.__lastChunkTime);this.__chunkCount=Math.round(this.__chunkCount*t)||1,this.__limit+=this.__chunkCount,this.__lastChunkTime=e,this.__debounceRender(this.__render)}__observeChanged(){this.__observePaths=this.observe&&this.observe.replace('.*','.').split(' ')}__itemsChanged(e){this.items&&!Array.isArray(this.items)&&console.warn('dom-repeat expected array for `items`, found',this.items),this.__handleItemPath(e.path,e.value)||(this.__initializeChunking(),this.__debounceRender(this.__render))}__handleObservedPaths(e){if(this.__observePaths){e=e.substring(e.indexOf('.')+1);let t=this.__observePaths;for(let a=0;a<t.length;a++)if(0===e.indexOf(t[a]))return this.__debounceRender(this.__render,this.delay),!0}}__debounceRender(e,t=0){this.__renderDebouncer=Debouncer.debounce(this.__renderDebouncer,0<t?timeOut.after(t):microTask,e.bind(this)),enqueueDebouncer(this.__renderDebouncer)}render(){this.__debounceRender(this.__render),flush()}__render(){this.__ensureTemplatized()&&(this.__applyFullRefresh(),this.__pool.length=0,this._setRenderedItemCount(this.__instances.length),this.dispatchEvent(new CustomEvent('dom-change',{bubbles:!0,composed:!0})),this.__tryRenderChunk())}__applyFullRefresh(){let e=this.items||[],t=Array(e.length);for(let a=0;a<e.length;a++)t[a]=a;this.__filterFn&&(t=t.filter((t,a,n)=>this.__filterFn(e[t],a,n))),this.__sortFn&&t.sort((t,a)=>this.__sortFn(e[t],e[a]));const a=this.__itemsIdxToInstIdx={};let n=0;for(const r=Math.min(t.length,this.__limit);n<r;n++){let r=this.__instances[n],o=t[n],i=e[o];a[o]=n,r&&n<this.__limit?(r._setPendingProperty(this.as,i),r._setPendingProperty(this.indexAs,n),r._setPendingProperty(this.itemsIndexAs,o),r._flushProperties()):this.__insertInstance(i,n,o)}for(let e=this.__instances.length-1;e>=n;e--)this.__detachAndRemoveInstance(e)}__detachInstance(e){let t=this.__instances[e];for(let a,n=0;n<t.children.length;n++)a=t.children[n],t.root.appendChild(a);return t}__attachInstance(e,t){let a=this.__instances[e];t.insertBefore(a.root,this)}__detachAndRemoveInstance(e){let t=this.__detachInstance(e);t&&this.__pool.push(t),this.__instances.splice(e,1)}__stampInstance(e,t,a){let n={};return n[this.as]=e,n[this.indexAs]=t,n[this.itemsIndexAs]=a,new this.__ctor(n)}__insertInstance(e,t,a){let n=this.__pool.pop();n?(n._setPendingProperty(this.as,e),n._setPendingProperty(this.indexAs,t),n._setPendingProperty(this.itemsIndexAs,a),n._flushProperties()):n=this.__stampInstance(e,t,a);let r=this.__instances[t+1],o=r?r.children[0]:this;return this.parentNode.insertBefore(n.root,o),this.__instances[t]=n,n}_showHideChildren(e){for(let t=0;t<this.__instances.length;t++)this.__instances[t]._showHideChildren(e)}__handleItemPath(e,t){let a=e.slice(6),n=a.indexOf('.'),r=0>n?a:a.substring(0,n);if(r==parseInt(r,10)){let e=0>n?'':a.substring(n+1);this.__handleObservedPaths(e);let o=this.__itemsIdxToInstIdx[r],i=this.__instances[o];if(i){let a=this.as+(e?'.'+e:'');i._setPendingPropertyOrPath(a,t,!1,!0),i._flushProperties()}return!0}}itemForElement(e){let t=this.modelForElement(e);return t&&t[this.as]}indexForElement(e){let t=this.modelForElement(e);return t&&t[this.indexAs]}modelForElement(e){return Templatize.modelForElement(this.template,e)}}customElements.define(DomRepeat.is,DomRepeat);var domRepeat=Object.freeze({DomRepeat:DomRepeat});const REQUEST_LIST='REQUEST_LIST',RECEIVE_LIST='RECEIVE_LIST',FAIL_LIST='FAIL_LIST',fetchList=(e)=>(t)=>{t(requestList(e.id)),fetch(`/api/${e.id}`).then((e)=>e.json()).then((a)=>t(receiveList(e.id,a))).catch(()=>t(failList(e.id)))},fetchListIfNeeded=(e)=>(t)=>{!e||e.items||e.isFetching||t(fetchList(e))},requestList=(e)=>({type:REQUEST_LIST,listId:e}),receiveList=(e,t)=>({type:RECEIVE_LIST,listId:e,items:t}),failList=(e)=>({type:FAIL_LIST,listId:e});var lists$3=Object.freeze({REQUEST_LIST:REQUEST_LIST,RECEIVE_LIST:RECEIVE_LIST,FAIL_LIST:FAIL_LIST,fetchList:fetchList,fetchListIfNeeded:fetchListIfNeeded});const REQUEST_ITEM='REQUEST_ITEM',RECEIVE_ITEM='RECEIVE_ITEM',FAIL_ITEM='FAIL_ITEM',fetchItem=(e)=>(t)=>{t(requestItem(e.id)),fetch(`/api/item/${e.id}`).then((e)=>e.json()).then((a)=>t(receiveItem(e.id,a))).catch(()=>t(failItem(e.id)))},fetchItemIfNeeded=(e)=>(t)=>{!e||e.comments||e.isFetching||t(fetchItem(e))},requestItem=(e)=>({type:REQUEST_ITEM,itemId:e}),receiveItem=(e,t)=>({type:RECEIVE_ITEM,itemId:e,data:t}),failItem=(e)=>({type:FAIL_ITEM,itemId:e});var items$3=Object.freeze({REQUEST_ITEM:REQUEST_ITEM,RECEIVE_ITEM:RECEIVE_ITEM,FAIL_ITEM:FAIL_ITEM,fetchItem:fetchItem,fetchItemIfNeeded:fetchItemIfNeeded});const ADD_FAVORITE='ADD_FAVORITE',REMOVE_FAVORITE='REMOVE_FAVORITE',dbPromise=window.dbPromise=new Promise((e,t)=>{const a=window.indexedDB.open('favorites',5);a.onsuccess=(t)=>{e(t.target.result)},a.onupgradeneeded=(e)=>{e.target.result.createObjectStore('favorites',{keyPath:'id'})},a.onerror=(e)=>{t(e)}}),saveFavorite=(t)=>(e)=>{dbPromise.then((a)=>{const n=a.transaction(['favorites'],'readwrite'),r=n.objectStore('favorites'),o=r.add({comments_count:t.comments_count,domain:t.domain,id:t.id,points:t.points,time:t.time,time_ago:t.time_ago,title:t.title,type:t.type,url:t.url,user:t.user});o.onsuccess=()=>{e(addFavorite(t))}})},addFavorite=(e)=>(t)=>{t({type:ADD_FAVORITE,item:e})},deleteFavorite=(t)=>(e)=>{dbPromise.then((n)=>{const r=n.transaction(['favorites'],'readwrite'),o=r.objectStore('favorites'),i=o.delete(t.id);i.onsuccess=()=>{e({type:REMOVE_FAVORITE,item:t})}})};let loaded=!1;const loadFavorites=()=>(e)=>{loaded||(loaded=!0,dbPromise.then((t)=>{const a=t.transaction('favorites').objectStore('favorites');a.openCursor().onsuccess=function(t){const a=t.target.result;a&&(e(addFavorite(a.value)),a.continue())}}))};var favorites=Object.freeze({ADD_FAVORITE:ADD_FAVORITE,REMOVE_FAVORITE:REMOVE_FAVORITE,saveFavorite:saveFavorite,deleteFavorite:deleteFavorite,loadFavorites:loadFavorites}),_extends$4=Object.assign||function(e){for(var t,a=1;a<arguments.length;a++)for(var n in t=arguments[a],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e};const items=(e={},t)=>{switch(t.type){case REQUEST_ITEM:case RECEIVE_ITEM:case FAIL_ITEM:const a=t.itemId;return _extends$4({},e,{[a]:item(e[a],t)});case'RECEIVE_LIST':return t.items.reduce((e,t)=>(e[t.id]=t,e),_extends$4({},e));case ADD_FAVORITE:return _extends$4({},e,{[t.item.id]:t.item});default:return e;}},item=(e={},t)=>{switch(t.type){case REQUEST_ITEM:return _extends$4({},e,{id:t.itemId,failure:!1,isFetching:!0});case RECEIVE_ITEM:return _extends$4({},e,{failure:!1,isFetching:!1},t.data);case FAIL_ITEM:return _extends$4({},e,{failure:!0,isFetching:!1});default:return e;}},itemsSelector=(e)=>e.items,currentItemSelector=createSelector(itemsSelector,splitPathnameSelector,urlSearchParamsSelector,(e,t,a)=>{switch(t[0]){case'item':const n=a.get('id');return e[n]||{id:n};default:return null;}});var items$2=Object.freeze({default:items,itemsSelector:itemsSelector,currentItemSelector:currentItemSelector}),_extends$5=Object.assign||function(e){for(var t,a=1;a<arguments.length;a++)for(var n in t=arguments[a],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e};const favorites$1=(e={},t)=>{switch(t.type){case ADD_FAVORITE:return _extends$5({},e,{[t.item.id]:!0});case REMOVE_FAVORITE:const a=_extends$5({},e);return delete a[t.item.id],a;default:return e;}},favoritesSelector=(e)=>e.favorites;var favorites$3=Object.freeze({default:favorites$1,favoritesSelector:favoritesSelector}),_extends$3=Object.assign||function(e){for(var t,a=1;a<arguments.length;a++)for(var n in t=arguments[a],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e};const lists=(e={},t)=>{switch(t.type){case REQUEST_LIST:case RECEIVE_LIST:case FAIL_LIST:const a=t.listId;return _extends$3({},e,{[a]:list(e[a],t)});default:return e;}},list=(e={},t)=>{switch(t.type){case REQUEST_LIST:return _extends$3({},e,{id:t.listId,failure:!1,isFetching:!0});case RECEIVE_LIST:return _extends$3({},e,{failure:!1,isFetching:!1,items:t.items.map((e)=>e.id)});case FAIL_LIST:return _extends$3({},e,{failure:!0,isFetching:!1});default:return e;}},listsSelector=(e)=>e.lists,currentListSelector=createSelector(listsSelector,favoritesSelector,splitPathnameSelector,(e,t,a)=>{switch(a[0]){case'':return e.news||{id:'news'};case'new':return e.newest||{id:'newest'};case'ask':case'show':case'jobs':return e[a[0]]||{id:a[0]};case'favorites':return{id:'favorites',items:Object.keys(t).map((e)=>parseInt(e,10))};default:return null;}}),currentItemsSelector=createSelector(currentListSelector,itemsSelector,(e,t)=>e&&e.items?e.items.map((e)=>t[e]||{id:e}):null);var lists$2=Object.freeze({default:lists,currentListSelector:currentListSelector,currentItemsSelector:currentItemsSelector});class HnSummaryElement extends Element{static get template(){return`
    ${sharedStyles}
    <style>
      :host {
        display: block;
        margin: 1em 0;
      }
    </style>
    <a href$="[[item.url]]">[[item.title]]</a>
    <span class="domain">([[item.domain]])</span>
    <div class="info">
      [[item.points]] points by
      <a href$="[[_getUserHref(item)]]">[[item.user]]</a>
      [[item.time_ago]]
      <span class="spacer">|</span>
      <a href$="[[_getItemHref(item)]]">[[item.comments_count]] comments</a>
      <button hidden$="[[isFavorite]]" on-click="_markItem">Mark</button>
      <button hidden$="[[!isFavorite]]" on-click="_unmarkItem">Unmark</button>
    </div>
    `}static get properties(){return{item:Object,isFavorite:Boolean}}_getItemHref(e){return e&&e.id?`/item?id=${e.id}`:null}_getUserHref(e){return e&&e.user?`/user?id=${e.user}`:null}_markItem(){store.dispatch(saveFavorite(this.item))}_unmarkItem(){store.dispatch(deleteFavorite(this.item))}}customElements.define('hn-summary',HnSummaryElement);var hnSummary=Object.freeze({HnSummaryElement:HnSummaryElement});const REQUEST_USER='REQUEST_USER',RECEIVE_USER='RECEIVE_USER',FAIL_USER='FAIL_USER',fetchUser=(e)=>(t)=>{t(requestUser(e.id)),fetch(`/api/user/${e.id}`).then((e)=>e.json()).then((a)=>{if(a.error)throw a.error;t(receiveUser(e.id,a))}).catch(()=>t(failUser(e.id)))},fetchUserIfNeeded=(e)=>(t)=>{!e||e.created_time||e.isFetching||t(fetchUser(e))},requestUser=(e)=>({type:REQUEST_USER,userId:e}),receiveUser=(e,t)=>({type:RECEIVE_USER,userId:e,data:t}),failUser=(e)=>({type:FAIL_USER,userId:e});var users$3=Object.freeze({REQUEST_USER:REQUEST_USER,RECEIVE_USER:RECEIVE_USER,FAIL_USER:FAIL_USER,fetchUser:fetchUser,fetchUserIfNeeded:fetchUserIfNeeded}),_extends$6=Object.assign||function(e){for(var t,a=1;a<arguments.length;a++)for(var n in t=arguments[a],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e};const users=(e={},t)=>{switch(t.type){case REQUEST_USER:case RECEIVE_USER:case FAIL_USER:const a=t.userId;return _extends$6({},e,{[a]:user(e[a],t)});default:return e;}},user=(e={},t)=>{switch(t.type){case REQUEST_USER:return _extends$6({},e,{id:t.userId,failure:!1,isFetching:!0});case RECEIVE_USER:return _extends$6({},e,{failure:!1,isFetching:!1},t.data);case FAIL_USER:return _extends$6({},e,{failure:!0,isFetching:!1});default:return e;}},usersSelector=(e)=>e.users,currentUserSelector=createSelector(usersSelector,splitPathnameSelector,urlSearchParamsSelector,(e,t,a)=>{switch(t[0]){case'user':const n=a.get('id');return e[n]||{id:n};default:return null;}});var users$2=Object.freeze({default:users,currentUserSelector:currentUserSelector});class HnCommentElement extends Element{static get template(){return`
    ${sharedStyles}
    <style>
      .indent {
        margin-left: 36px;
      }
    </style>
    <div>
      <button on-click="_toggleCollapsed">[]</button>
      <a href$="[[_getUserHref(comment)]]">[[comment.user]]</a>
      <a href$="[[_getCommentHref(comment, itemId)]]">[[comment.time_ago]]</a></div>
    </div>
    <div hidden$="[[collapsed]]">
      <div inner-h-t-m-l="[[comment.content]]"></div>
      <div class="indent">
        <dom-repeat items="[[comment.comments]]" as="comment">
          <template>
            <hn-comment id$="[[comment.id]]" comment="[[comment]]" item-id="[[itemId]]"></hn-comment>
          </template>
        </dom-repeat>
      </div>
    </div>
    `}static get properties(){return{comment:Object,itemId:String,collapsed:Boolean}}_toggleCollapsed(){this.collapsed=!this.collapsed}_getUserHref(e){return e?`/user?id=${e.user}`:null}_getCommentHref(e,t){return e?`/item?id=${t}#${e.id}`:null}}customElements.define('hn-comment',HnCommentElement);var hnComment=Object.freeze({HnCommentElement:HnCommentElement});store.addReducers({location}),installRouter(()=>store.dispatch(updateLocation(window.location)));class HnAppElement extends connect(store)(Element){static get template(){return`
    ${sharedStyles}
    <style>
      header {
        margin: 1em 0;
      }
      header a {
        padding: 4px;
        border: 2px solid;
        border-bottom: none;
      }
      [page] > * {
        display: none;
      }
      [page=list] hn-list,
      [page=item] hn-item,
      [page=user] hn-user,
      [page=invalid-page] hn-invalid-page {
        display: block;
      }
    </style>
    <header>
      <a href="/">top</a>
      <a href="/new">new</a>
      <a href="/ask">ask</a>
      <a href="/show">show</a>
      <a href="/jobs">jobs</a>
      <a href="/favorites">favorites</a>
    </header>
    <div page$="[[page]]">
      <hn-list></hn-list>
      <hn-item></hn-item>
      <hn-user></hn-user>
      <hn-invalid-page></hn-invalid-page>
    </div>`}static get properties(){return{page:String}}update(e){this.setProperties({page:pageSelector(e)})}}customElements.define('hn-app',HnAppElement);export{HnAppElement,hnInvalidPage as $bundled$hn$invalid$page,router as $bundled$$$$$$$lib$router,polymerElement as $bundled$$$$$$$node_modules$$polymer$polymer$polymer$element,elementMixin as $bundled$$$$$$$node_modules$$polymer$polymer$lib$mixins$element$mixin,boot as $bundled$$$$$$$node_modules$$polymer$polymer$lib$utils$boot,settings$1 as $bundled$$$$$$$node_modules$$polymer$polymer$lib$utils$settings,resolveUrl$1 as $bundled$$$$$$$node_modules$$polymer$polymer$lib$utils$resolve$url,mixin as $bundled$$$$$$$node_modules$$polymer$polymer$lib$utils$mixin,caseMap$0 as $bundled$$$$$$$node_modules$$polymer$polymer$lib$utils$case$map,styleGather as $bundled$$$$$$$node_modules$$polymer$polymer$lib$utils$style$gather,domModule as $bundled$$$$$$$node_modules$$polymer$polymer$lib$elements$dom$module,propertyEffects as $bundled$$$$$$$node_modules$$polymer$polymer$lib$mixins$property$effects,path as $bundled$$$$$$$node_modules$$polymer$polymer$lib$utils$path,propertyAccessors as $bundled$$$$$$$node_modules$$polymer$polymer$lib$mixins$property$accessors,async as $bundled$$$$$$$node_modules$$polymer$polymer$lib$utils$async,templateStamp as $bundled$$$$$$$node_modules$$polymer$polymer$lib$mixins$template$stamp,domIf as $bundled$$$$$$$node_modules$$polymer$polymer$lib$elements$dom$if,templatize as $bundled$$$$$$$node_modules$$polymer$polymer$lib$utils$templatize,mutableData as $bundled$$$$$$$node_modules$$polymer$polymer$lib$mixins$mutable$data,debounce as $bundled$$$$$$$node_modules$$polymer$polymer$lib$utils$debounce,flush$1 as $bundled$$$$$$$node_modules$$polymer$polymer$lib$utils$flush,sharedStyles$1 as $bundled$shared$styles,location$2 as $bundled$$$$reducers$location,location$3 as $bundled$$$$actions$location,index as $bundled$$$$$$$node_modules$reselect$src$index,domRepeat as $bundled$$$$$$$node_modules$$polymer$polymer$lib$elements$dom$repeat,lists$2 as $bundled$$$$reducers$lists,lists$3 as $bundled$$$$actions$lists,items$2 as $bundled$$$$reducers$items,items$3 as $bundled$$$$actions$items,favorites as $bundled$$$$actions$favorites,favorites$3 as $bundled$$$$reducers$favorites,store$1 as $bundled$$$$store,createStore$1 as $bundled$$$$$$$node_modules$$0xcda7a$redux$es6$es$createStore,isPlainObject$1 as $bundled$$$$$$$node_modules$$0xcda7a$redux$es6$es$isPlainObject,applyMiddleware$1 as $bundled$$$$$$$node_modules$$0xcda7a$redux$es6$es$applyMiddleware,compose$2 as $bundled$$$$$$$node_modules$$0xcda7a$redux$es6$es$compose,combineReducers$1 as $bundled$$$$$$$node_modules$$0xcda7a$redux$es6$es$combineReducers,warning$1 as $bundled$$$$$$$node_modules$$0xcda7a$redux$es6$es$utils$warning,index$1 as $bundled$$$$$$$node_modules$redux$thunk$es$index,hnSummary as $bundled$hn$summary,connectMixin as $bundled$$$$$$$lib$connect$mixin,users$2 as $bundled$$$$reducers$users,users$3 as $bundled$$$$actions$users,hnComment as $bundled$hn$comment};